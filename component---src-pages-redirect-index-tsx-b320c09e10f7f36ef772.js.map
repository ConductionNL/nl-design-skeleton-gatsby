{"version":3,"file":"component---src-pages-redirect-index-tsx-b320c09e10f7f36ef772.js","mappings":"4JAgEA,UAzDiB,WACf,IAAMA,GAAaC,EAAAA,EAAAA,KAgCnB,OAJAC,EAAAA,EAAAA,YAAU,WAzBRC,MAAMH,EAAWI,MAAO,CACtBC,YAAa,UACbC,QAAS,CAAE,eAAgB,sBAE1BC,MAAK,SAAUC,GACd,GAAIA,EAASC,GACX,OAAOD,EAASE,OAGlB,MAAM,IAAIC,MAAM,4BAEjBJ,MAAK,SAAUK,IACdC,EAAAA,EAAAA,IAAQD,GAEyB,SAA7BZ,EAAWc,eACbC,EAAAA,EAAAA,IAAS,IAAMf,EAAWc,gBAE1BC,EAAAA,EAAAA,IAAS,QAGZC,OAAM,YACLD,EAAAA,EAAAA,IAAS,UAMZ,IAGD,gBAAC,IAAD,KACE,4BACE,uBAAKE,UAAU,mBACb,uBAAKA,UAAU,UACb,sBAAIA,UAAU,qBAAd,qBAEF,uBAAKA,UAAU,UACb,sBAAIA,UAAU,qBAAd,8BAEF,uBAAKA,UAAU,eACb,uBACEA,UAAU,mDACVC,KAAK,UAEL,wBAAMD,UAAU,mBAAhB","sources":["webpack://pwa/./src/pages/redirect/index.tsx"],"sourcesContent":["import * as React from \"react\";\nimport Layout from \"../../components/common/layout\";\nimport { useEffect } from \"react\";\nimport { useUrlContext } from \"../../context/urlContext\";\nimport { navigate } from \"gatsby-link\";\nimport { setUser } from \"../../services/auth\";\n\nconst Redirect = () => {\n  const urlContext = useUrlContext();\n\n  const handleLogin = () => {\n    fetch(urlContext.meUrl, {\n      credentials: \"include\",\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n      .then(function (response) {\n        if (response.ok) {\n          return response.json();\n        }\n\n        throw new Error(\"Something went wrong.\");\n      })\n      .then(function (data) {\n        setUser(data);\n\n        if (urlContext.loginRedirect !== \"null\") {\n          navigate(\"/\" + urlContext.loginRedirect);\n        } else {\n          navigate(\"/\");\n        }\n      })\n      .catch(function () {\n        navigate(\"/\");\n      });\n  };\n\n  useEffect(() => {\n    handleLogin();\n  }, []);\n\n  return (\n    <Layout>\n      <main>\n        <div className=\"row text-center\">\n          <div className=\"col-12\">\n            <h1 className=\"utrecht-heading-1\">Aan het inloggen</h1>\n          </div>\n          <div className=\"col-12\">\n            <h4 className=\"utrecht-heading-4\">even geduld alstublieft..</h4>\n          </div>\n          <div className=\"col-12 mt-5\">\n            <div\n              className=\"spinner-border text-primary redirect-loader-size\"\n              role=\"status\"\n            >\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n        </div>\n      </main>\n    </Layout>\n  );\n};\n\nexport default Redirect;\n"],"names":["urlContext","useUrlContext","useEffect","fetch","meUrl","credentials","headers","then","response","ok","json","Error","data","setUser","loginRedirect","navigate","catch","className","role"],"sourceRoot":""}